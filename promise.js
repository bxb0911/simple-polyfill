!function(){"use strict";var n,t,e,r=null,o="object"==typeof self,i=o?self:global,u=i.Promise,c=i.process,f=i.console,s=!1,a=Array,l=Error,h=1,v=2,_=3,p="Symbol",d="iterator",m="species",w=p+"("+m+")",y="return",g="_uh",j="_pt",k="_st",x="Invalid argument",b="\nFrom previous ",T="Chaining cycle detected for promise",R="rejectionHandled",S="unhandledRejection",C={e:r},F=function(){},E=/^.+\/node_modules\/yaku\/.+\n?/gm,H=function(t){var e;if(!L(this)||this._s!==n)throw z("Invalid this");if(this._s=_,s&&(this[j]=B()),t!==F){if(!P(t))throw z(x);(e=Y(t)(N(this,v),N(this,h)))===C&&W(this,h,e.e)}};function I(){return H[p][m]||w}function L(n){return n&&"object"==typeof n}function P(n){return"function"==typeof n}function A(n,t){return n instanceof t}function O(n,t,e){if(!t(n))throw z(e)}function U(){try{return t.apply(e,arguments)}catch(n){return C.e=n,C}}function Y(n,r){return t=n,e=r,U}function $(t,e){var r=a(t),o=0;function i(){for(var i=0;i<o;)e(r[i],r[i+1]),r[i++]=n,r[i++]=n;o=0,r.length>t&&(r.length=t)}return function(n,t){r[o++]=n,r[o++]=t,2===o&&H.nextTick(i)}}function q(n,t){var e,r,o,i,u=0;if(!n)throw z(x);var c=n[H[p][d]];if(P(c))r=c.call(n);else{if(!P(n.next)){if(A(n,a)){for(e=n.length;u<e;)t(n[u],u++);return u}throw z(x)}r=n}for(;!(o=r.next()).done;)if((i=Y(t)(o.value,u++))===C)throw P(r[y])&&r[y](),i.e;return u}function z(n){return new TypeError(n)}function B(n){return(n?"":b)+(new l).stack}H.default=H,function(n,t){for(var e in t)n[e]=t[e]}(H.prototype,{then:function(n,t){if(void 0===this._s)throw z();return function(n,t,e,r){P(e)&&(t._onFulfilled=e);P(r)&&(n[g]&&J(R,n),t._onRejected=r);s&&(t._p=n);n[n._c++]=t,n._s!==_&&D(n,t);return t}(this,M(H.speciesConstructor(this,H)),n,t)},catch:function(t){return this.then(n,t)},finally:function(n){return this.then(function(t){return H.resolve(n()).then(function(){return t})},function(t){return H.resolve(n()).then(function(){throw t})})},_c:0,_p:r}),H.resolve=function(n){return K(n)?n:X(M(this),n)},H.reject=function(n){return W(M(this),h,n)},H.race=function(n){var t=this,e=M(t),r=function(n){W(e,v,n)},o=function(n){W(e,h,n)},i=Y(q)(n,function(n){t.resolve(n).then(r,o)});return i===C?t.reject(i.e):e},H.all=function(n){var t,e=this,r=M(e),o=[];function i(n){W(r,h,n)}return(t=Y(q)(n,function(n,u){e.resolve(n).then(function(n){o[u]=n,--t||W(r,v,o)},i)}))===C?e.reject(t.e):(t||W(r,v,[]),r)},H.Symbol=i[p]||{},Y(function(){Object.defineProperty(H,I(),{get:function(){return this}})})(),H.speciesConstructor=function(n,t){var e=n.constructor;return e&&e[I()]||t},H.unhandledRejection=function(n,t){f&&f.error("Uncaught (in promise)",s?t.longStack:Q(n,t))},H.rejectionHandled=F,H.enableLongStackTrace=function(){s=!0},H.nextTick=o?function(n){u?new u(function(n){n()}).then(n):setTimeout(n)}:c.nextTick,H._s=1;var D=$(999,function(t,e){var r,o;(o=t._s!==h?e._onFulfilled:e._onRejected)!==n?(r=Y(V)(o,t._v))!==C?X(e,r):W(e,h,r.e):W(e,t._s,t._v)}),G=$(9,function(n){(function n(t){if(t._umark)return!0;t._umark=!0;var e,r=0,o=t._c;for(;r<o;)if((e=t[r++])._onRejected||n(e))return!0})(n)||(n[g]=1,J(S,n))});function J(n,t){var e="on"+n.toLowerCase(),r=i[e];c&&c.listeners(n).length?n===S?c.emit(n,t._v,t):c.emit(n,t):r?r({reason:t._v,promise:t}):H[n](t._v,t)}function K(n){return n&&n._s}function M(n){return K(n)?new n(F):(t=new n(function(n,o){if(t)throw z();e=n,r=o}),O(e,P),O(r,P),t);var t,e,r}function N(n,t){var e=!1;return function(r){e||(e=!0,s&&(n[k]=B(!0)),t===v?X(n,r):W(n,t,r))}}function Q(n,t){var e=[];function r(n){return e.push(n.replace(/^\s+|\s+$/g,""))}return s&&(t[k]&&r(t[k]),function n(t){t&&j in t&&(n(t._next),r(t[j]+""),n(t._p))}(t)),(n&&n.stack?n.stack:n)+("\n"+e.join("\n")).replace(E,"")}function V(n,t){return n(t)}function W(n,t,e){var r=0,o=n._c;if(n._s===_)for(n._s=t,n._v=e,t===h&&(s&&A(e,l)&&(e.longStack=Q(e,n)),G(n));r<o;)D(n,n[r++]);return n}function X(n,t){if(t===n&&t)return W(n,h,z(T)),n;if(t!==r&&(P(t)||L(t))){var e=Y(Z)(t);if(e===C)return W(n,h,e.e),n;P(e)?(s&&K(t)&&(n._next=t),K(t)?nn(n,t,e):H.nextTick(function(){nn(n,t,e)})):W(n,v,t)}else W(n,v,t);return n}function Z(n){return n.then}function nn(n,t,e){var o=Y(e,t)(function(e){t&&(t=r,X(n,e))},function(e){t&&(t=r,W(n,h,e))});o===C&&t&&(W(n,h,o.e),t=r)}try{module.exports=H}catch(n){i.Yaku=H}}();